<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>H27 Clash of Talents - Team Scores Leaderboard</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;600;700&display=swap" rel="stylesheet">
    <style>
        body {
            font-family: 'Poppins', sans-serif;
            background: url('background-image.png') no-repeat center center fixed;
            background-size: cover;
            display: flex;
            justify-content: center;
            align-items: flex-start; /* Align the container towards the top, but allow space */
            min-height: 100vh;
            margin: 0;
            padding: 20px; /* Add padding to the body for better spacing */
            color: #333;
            overflow-y: auto; /* Ensure scrolling is enabled */
        }
        .container {
            width: 100%;
            max-width: 1000px;
            padding: 20px;
            background: rgba(255, 255, 255, 0.95);
            border-radius: 15px;
            box-shadow: 0 5px 30px rgba(0, 0, 0, 0.4);
            text-align: center;
            margin: 20px 0; /* Add margin for spacing from the top */
            position: relative;
            box-sizing: border-box; /* Ensure padding is included in the width/height */
        }
        .logo-container {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 20px;
        }
        .logo-left, .logo-right {
            width: 100px;
            height: auto;
        }
        .header {
            font-size: 2.4em;
            font-weight: 700;
            color: #e74c3c;
            margin-bottom: 20px;
            text-transform: uppercase;
            letter-spacing: 2px;
        }
        .subtitle {
            font-size: 1.2em;
            color: #2c3e50;
            margin-bottom: 20px;
            line-height: 1.6;
            text-shadow: 1px 1px 4px rgba(0, 0, 0, 0.1);
        }
        .team-list {
            display: flex;
            flex-direction: column;
            gap: 30px;
            margin-top: 40px;
        }
        .team-item {
            display: flex;
            align-items: center;
            padding: 20px;
            background: rgba(255, 255, 255, 0.9);
            border-radius: 15px;
            box-shadow: 0 10px 25px rgba(0, 0, 0, 0.3);
            font-size: 1.3em;
            color: #2c3e50;
            transition: transform 0.3s, box-shadow 0.3s;
        }
        .team-item:hover {
            transform: scale(1.05);
            box-shadow: 0 15px 30px rgba(0, 0, 0, 0.4);
        }
        .team-icon {
            width: 80px;
            height: 80px;
            border-radius: 50%;
            background: rgba(255, 255, 255, 0.2);
            display: flex;
            align-items: center;
            justify-content: center;
            margin-right: 20px;
            overflow: hidden;
        }
        .team-name {
            flex: 1;
            text-align: left;
            font-weight: 700;
            font-size: 1.6em;
        }
        .team-score {
            font-size: 2em;
            font-weight: 700;
            color: #e67e22;
        }
        .nav-buttons {
            display: flex;
            justify-content: center;
            gap: 20px;
            margin-top: 30px;
            flex-wrap: wrap;
        }
        .nav-button {
            padding: 15px 25px;
            background-color: #e67e22;
            color: #ffffff;
            border: none;
            border-radius: 10px;
            font-size: 1.1em;
            font-weight: 600;
            cursor: pointer;
            transition: background-color 0.3s, transform 0.3s;
        }
        .nav-button:hover {
            background-color: #d35400;
            transform: translateY(-3px);
        }
        a {
            color: inherit;
            text-decoration: none;
        }

        /* Adjustments for mobile devices */
        @media (max-width: 768px) {
            .container {
                padding: 15px;
                margin: 10px 0; /* Less margin for mobile */
            }
            .header {
                font-size: 2em;
            }
            .subtitle {
                font-size: 1.1em;
            }
            .logo-left, .logo-right {
                width: 80px; /* Resize logos for mobile */
            }
        }
    </style>
    <link rel="icon" href="favicon.ico" type="image/x-icon">
</head>
<body>
    <div class="container">
        <div class="logo-container">
            <img src="logo-left.png" alt="Organizer Logo" class="logo-left">
            <img src="logo-right.png" alt="Event Logo" class="logo-right">
        </div>
        <div class="header">Team Scores Leaderboard</div>
        <div class="subtitle">Explore the current standings of all the participating teams in the H27 Clash of Talents. Witness the scores and cheer for your favorite team as they compete for glory in this prestigious competition.</div>
        <div class="team-list" id="teamList">
            <!-- Team items will be inserted here dynamically -->
        </div>
        <div class="nav-buttons">
            <a href="individual_category_scores.html" target="_blank"><button class="nav-button">Category-Wise Scores</button></a>
        </div>
    </div>

    <script>
        document.addEventListener('DOMContentLoaded', function() {
            const apiKey = 'AIzaSyBBCuJHd2HJ679ZQWNe3jhQOk-61tXW-sE';  // Replace with your actual API key
            const sheetID = '1i3OGdne9Hok1th-I3UMtXgDGOcxGsXDRHZx9A6j_CYw'; // Replace with your actual sheet ID
            const range = 'Team Scores!A2:B';  // Modify if your data range differs
            const url = `https://sheets.googleapis.com/v4/spreadsheets/${sheetID}/values/${range}?key=${apiKey}`;

            fetch(url)
                .then(response => response.json())
                .then(data => {
                    if (!data.values || data.values.length === 0) {
                        console.error('No data found.');
                        return;
                    }
                    const rows = data.values;

                    // Sort rows by the score column (index 1) in descending order
                    rows.sort((a, b) => parseFloat(b[1]) - parseFloat(a[1]));

                    const teamList = document.getElementById('teamList');
                    teamList.innerHTML = '';
                    rows.forEach((row, index) => {
                        const teamItem = document.createElement('div');
                        teamItem.classList.add('team-item');

                        const teamIcon = document.createElement('div');
                        teamIcon.classList.add('team-icon');
                        teamIcon.innerHTML = `<img src="${getTeamIconUrl(row[0])}" alt="Team Icon" style="width: 100%; height: 100%; object-fit: cover;">`;

                        const teamName = document.createElement('div');
                        teamName.classList.add('team-name');
                        teamName.textContent = row[0];

                        const teamScore = document.createElement('div');
                        teamScore.classList.add('team-score');
                        teamScore.textContent = `${row[1]} PTS`;

                        teamItem.appendChild(teamIcon);
                        teamItem.appendChild(teamName);
                        teamItem.appendChild(teamScore);

                        teamList.appendChild(teamItem);
                    });
                })
                .catch(error => {
                    console.error('Error fetching the data:', error);
                });

            function getTeamIconUrl(teamName) {
                // Replace with logic to dynamically fetch icons based on team name
                return `team-icons/${teamName.toLowerCase().replace(/\s+/g, '-')}.png`;
            }
        });
    </script>
</body>
</html>
